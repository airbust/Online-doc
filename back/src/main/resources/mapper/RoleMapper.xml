<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.dao.RoleDao">

    <resultMap id="Role" type="role">
        <id property="id" column="role_id"/>
        <result property="groupWrite" column="group_write"/>
        <result property="groupDiscuss" column="group_discuss"/>
        <result property="groupShare" column="group_share"/>
        <result property="otherRead" column="other_read"/>
        <result property="otherWrite" column="other_write"/>
        <result property="otherDiscuss" column="other_discuss"/>
        <result property="otherShare" column="other_share"/>
    </resultMap>

    <select id="getAuthByFileId" parameterType="Integer" resultMap="Role">
        SELECT * FROM role LEFT JOIN file_role ON role.role_id = file_role.role_id
        WHERE file_role.file_id = #{fileId}
    </select>

    <insert id="updateRed" parameterType="String">
        insert into datered(red_date)
        values (#{datesave})
    </insert>

<!--    <delete id="deleteTag" parameterType="Integer">-->
<!--        DELETE FROM tag-->
<!--        WHERE tag_id = #{value}-->
<!--    </delete>-->

</mapper>
